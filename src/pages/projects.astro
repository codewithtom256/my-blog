---
import BaseLayout from "../layouts/BaseLayout.astro";
const allProjects = Object.values(
  import.meta.glob("./projects/*.md", { eager: true })
);
const pageTitle = "Projects";
---

<BaseLayout pageTitle={pageTitle}>
  <section class="my-8">
    <h2 class="text-2xl font-bold">All Projects</h2>
    <h3 class="text-md font-semibold w-96 text-black opacity-50">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolor, quis!
    </h3>
    <div class="grid grid-cols-2 gap-4 mt-8">
      {
        allProjects.map((post: any) => (
          <article class="p-2 bg-base-200  rounded-lg flex h-48 drop-shadow-lg">
            <div class="aspect-square">
              <img
                class="rounded-lg object-center object-cover h-full w-full"
                src={post.frontmatter.image.url}
                alt=""
              />
            </div>
            <div class="ml-4 flex flex-col justify-between w-full">
              <div class="flex justify-between text-sm">
                <p>{post.frontmatter.pubDate}</p>
                <p>a</p>
              </div>
              <div>
                <h3 class="text-md font-bold">{post.frontmatter.title}</h3>
                <p class="text-sm font-normal mt-2">
                  {(() => {
                    const text = post.frontmatter.description || "";
                    const words = text.split(" ");
                    return words.length > 15
                      ? words.slice(0, 15).join(" ") + "..."
                      : text;
                  })()}
                </p>
              </div>

              <a href="" class="text-primary">
                Read the project
              </a>
            </div>
          </article>
        ))
      }
    </div>
  </section>
  <!-- <ul>
    {
      allPosts.map((post: any) => (
        <li>
          {" "}
          <a href={post.url}>
            <div class="card bg-base-100 w-96 shadow-sm">
              <figure>
                <img src={post.frontmatter.image.url} alt="Shoes" />
              </figure>
              <div class="card-body">
                <h2 class="card-title">
                  {post.frontmatter.title}
                  <div class="badge badge-secondary">NEW</div>
                </h2>
                <p>{post.frontmatter.description}</p>
                <div class="card-actions justify-end">
                  {post.frontmatter.tags.map((tag: string) => (
                    <div class="badge badge-outline">{tag}</div>
                  ))}
                </div>
              </div>
            </div>
          </a>
        </li>
      ))
    }
  </ul> -->
</BaseLayout>
